<div class="overflow-x-auto" id="table-container" #tableContainer>
  <table class="min-w-full text-sm divide-y divide-gray-500/20">
    <thead>
      <tr>
        <th
          class="text-muted-transparent px-4 py-2 text-start w-16 font-normal whitespace-nowrap"
        >
          #
        </th>
        <th
          class="text-muted-transparent px-4 py-2 text-start font-normal whitespace-nowrap"
        >
          Title
        </th>
        <th
          class="text-muted-transparent px-4 py-2 text-start font-normal whitespace-nowrap"
        >
          Album
        </th>
        <th
          class="text-muted-transparent px-4 py-2 text-start font-normal whitespace-nowrap"
        >
          <svg width="16" height="16" viewBox="0 0 16 16">
            <path
              fill="currentColor"
              d="M8 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z"
            ></path>
            <path
              fill="currentColor"
              d="M8 3.25a.75.75 0 0 1 .75.75v3.25H11a.75.75 0 0 1 0 1.5H7.25V4A.75.75 0 0 1 8 3.25z"
            ></path>
          </svg>
        </th>
      </tr>
    </thead>

    <tbody>
      <tr class="h-3"></tr>
      @for (song of songs; track song.id; let index = $index) {
        <tr class="group hover:bg-gray-500/20 transition-colors">
          <td class="px-4 py-2 w-16 text-muted-transparent rounded-l-md">
            {{ index + 1 }}
          </td>
          <td class="px-4 py-2 flex items-center gap-4">
            <div class="relative aspect-square w-12 h-12">
              <img
                class="absolute w-full h-full object-cover rounded-sm shadow-xl"
                [src]="song.image"
                [alt]="song.title"
              />
            </div>

            <div class="flex flex-col self-start">
              <span
                role="button"
                [attr.aria-label]="'Open ' + song.title + ' detail'"
                class="text-base hover:underline line-clamp-1"
                (click)="detailSong.openDetail(song)"
              >
                {{ song.title }}
              </span>
              <p class="text-muted-transparent line-clamp-1">
                {{ song.artists.join(", ") }}
              </p>
            </div>
          </td>
          <td
            class="px-4 py-2 text-muted-transparent group-hover:text-white transition-colors"
          >
            {{ song.album }}
          </td>
          <td
            class="px-4 py-2 text-muted-transparent group-hover:text-white transition-colors rounded-r-md"
          >
            {{ song.duration }}
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>
