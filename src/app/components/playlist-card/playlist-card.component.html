<article
  class="group relative bg-background-elevated rounded-md hover:bg-background-card transition-colors shadow-xl h-full"
>
  <a [routerLink]="['/playlist', playlist.id]" class="block p-4 h-full">
    <div class="aspect-square">
      <img
        class="w-full h-full rounded-md object-cover"
        [src]="playlist.cover"
        [alt]="'Cover of' + playlist.title + 'playlist'"
        style="view-transition-name: cover-{{ playlist.id }}"
      />
    </div>

    <div class="py-2 space-y-1">
      <h3
        class="font-bold"
        style="view-transition-name: title-{{ playlist.id }}"
      >
        {{ playlist.title }}
      </h3>
      <p class="text-muted text-sm line-clamp-2">
        {{ playlist.artists.join(", ") }}
      </p>
    </div>
  </a>

  <button
    class="absolute bottom-[6.25rem] right-4 rounded-full bg-primary p-4 text-primary-foreground m-3 shadow-xl translate-y-4 transition-all duration-300 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 scale-100 hover:scale-110"
    (click)="audioService.setPlaylist(playlist)"
    [attr.aria-label]="
      audioService.isPlaying() && audioService.playlist()?.id === playlist.id
        ? 'Pause ' + playlist.title + ' playlist'
        : 'Play ' + playlist.title + ' playlist'
    "
  >
    @if (
      audioService.isPlaying() && audioService.playlist()?.id === playlist.id
    ) {
      <svg
        width="16"
        height="16"
        viewBox="0 0 16 16"
        xlmns="http://www.w3.org/2000/svg"
      >
        <path
          fill="currentColor"
          d="M2.7 1a.7.7 0 0 0-.7.7v12.6a.7.7 0 0 0 .7.7h2.6a.7.7 0 0 0 .7-.7V1.7a.7.7 0 0 0-.7-.7H2.7zm8 0a.7.7 0 0 0-.7.7v12.6a.7.7 0 0 0 .7.7h2.6a.7.7 0 0 0 .7-.7V1.7a.7.7 0 0 0-.7-.7h-2.6z"
        ></path>
      </svg>
    } @else {
      <svg
        width="16"
        height="16"
        viewBox="0 0 16 16"
        xlmns="http://www.w3.org/2000/svg"
      >
        <path
          fill="currentColor"
          d="M3 1.713a.7.7 0 0 1 1.05-.607l10.89 6.288a.7.7 0 0 1 0 1.212L4.05 14.894A.7.7 0 0 1 3 14.288V1.713z"
        ></path>
      </svg>
    }
  </button>
</article>
